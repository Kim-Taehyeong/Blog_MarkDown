---
created : 2024-03-02 13:42:45.458873676
title : 백준 4779 칸토어 집합
tag : [분할 정복]
author : taehyeok
category : algorithm
---
# <img src="https://d2gd6pc034wcta.cloudfront.net/tier/8.svg" width="30" height="40"> 백준 4779 칸토어 집합


### 풀이 언어 : C++

문제 구분 : #분할 정복
#### [LINK - 백준](https://www.acmicpc.net/problem/)

### 문제

<hr>

칸토어 집합은 0과 1사이의 실수로 이루어진 집합으로, 구간 [0, 1]에서 시작해서 각 구간을 3등분하여 가운데 구간을 반복적으로 제외하는 방식으로 만든다.

전체 집합이 유한이라고 가정하고, 다음과 같은 과정을 통해서 칸토어 집합의 근사를 만들어보자.

1. -가 3N개 있는 문자열에서 시작한다.

2. 문자열을 3등분 한 뒤, 가운데 문자열을 공백으로 바꾼다. 이렇게 하면, 선(문자열) 2개가 남는다.

3. 이제 각 선(문자열)을 3등분 하고, 가운데 문자열을 공백으로 바꾼다. 이 과정은 모든 선의 길이가 1일때 까지 계속 한다.

예를 들어, N=3인 경우, 길이가 27인 문자열로 시작한다.

```
---------------------------
```

여기서 가운데 문자열을 공백으로 바꾼다.

```
---------         ---------
```

남은 두 선의 가운데 문자열을 공백으로 바꾼다.
```
---   ---         ---   ---
```
한번 더
```
- -   - -         - -   - -
```
모든 선의 길이가 1이면 멈춘다. N이 주어졌을 때, 마지막 과정이 끝난 후 결과를 출력하는 프로그램을 작성하시오.


### 입력

<hr>

입력을 여러 줄로 이루어져 있다. 각 줄에 N이 주어진다. 파일의 끝에서 입력을 멈춘다. N은 0보다 크거나 같고, 12보다 작거나 같은 정수이다.

### 출력

<hr>

입력으로 주어진 N에 대해서, 해당하는 칸토어 집합의 근사를 출력한다.

### 풀이 이야기

<hr>

이 문제는 세 부분으로 지속적으로 분할하여 가운데 부분만 출력하지 않는 쪽으로 재귀호출을 하면 쉽게 풀이할 수 있다.
```c++

void solve(int size) {
    ...
    // 3 부분으로 분할하여 가운데 부분은 빈칸을 출력
    int tri = size / 3;
    solve(tri); // 왼쪽 부분 재귀
    // 빈칸 출력
    for (int i = 0; i < tri; i++)
        std::cout << " ";
    solve(tri); // 오른쪽 부분 재귀
}
```
코드의 핵심 부분은 이 부분인데, 전체 문자 출력의 길이를 지속적으로 3으로 나누어 왼쪽과 오른쪽은 `-`문자를 출력해주고, 가운데 부분은 빈칸을 출력하면 예제와 동일한 출력을 얻어낼 수 있다. 여기서 지속적인 `std::cout`을 하는 부분이 있는데, 만약 N이 커지면 출력에 대한 부담이 생길 수도 있지만, 여기서의 N은 그렇게 크지 않아서 그냥 출력으로 처리하였다. 만약 N이 커질 것을 대비하여 속도를 끌어올리고 싶다면, 출력 문자열을 모두 저장한 뒤에 마지막 결과 문자열을 출력하는 쪽이 훨씬 빠를 것이다.

### 풀이 코드

<hr>


``` c++
#include <iostream>
#include <math.h>
int N; // 입력 변수

void solve(int size) {
    // 가장 작은 크기라면 출력
    if (size == 1) {
        std::cout << "-";
        return ;
    }
    // 3 부분으로 분할하여 가운데 부분은 빈칸을 출력
    int tri = size / 3;
    solve(tri); // 왼쪽 부분 재귀
    // 빈칸 출력
    for (int i = 0; i < tri; i++)
        std::cout << " ";
    solve(tri); // 오른쪽 부분 재귀
}

int main(void) {
    // Input
    while (std::cin >> N) {
        N = std::pow(3, N);
        // Solve
        solve(N);
        std::cout << "\n";
    }
}
```
